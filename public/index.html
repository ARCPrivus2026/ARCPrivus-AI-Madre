<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ARC Privus Messenger</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <div class="app">

    <!-- TOP BAR -->
    <header class="topbar">
      <div class="brand">
        <div class="logo">ARC</div>
        <div>
          <div class="title">ARC Privus Messenger</div>
          <div class="subtitle">IA integrada â€¢ TraducciÃ³n â€¢ CÃ¡mara</div>
        </div>
      </div>

      <div class="top-actions">
        <button class="icon-btn" id="btnCamera" title="CÃ¡mara">ğŸ“·</button>
        <button class="icon-btn" id="btnCalls" title="Videollamada">ğŸ¥</button>

        <!-- 3 punticos -->
        <div class="menu-wrap">
          <button class="icon-btn" id="btnMenu" title="MenÃº">â‹®</button>
          <div class="menu" id="menu">
            <button class="menu-item" data-view="chat">ğŸ’¬ Chat</button>
            <button class="menu-item" data-view="status">ğŸŸ¦ Estados</button>
            <button class="menu-item" data-view="settings">âš™ï¸ Ajustes</button>
            <div class="menu-sep"></div>
            <button class="menu-item" id="btnPromo">ğŸš€ Autopublicidad</button>
          </div>
        </div>
      </div>
    </header>

    <!-- MAIN -->
    <main class="main">

      <!-- CHAT VIEW -->
      <section class="view" id="viewChat">
        <div class="chat-window" id="chatWindow"></div>

        <div class="tools">
          <label class="toggle">
            <input type="checkbox" id="toggleTranslate" />
            <span>Traducir respuesta</span>
          </label>

          <select id="targetLang" class="select">
            <option value="es">ES (EspaÃ±ol)</option>
            <option value="en">EN (English)</option>
            <option value="pt">PT (PortuguÃªs)</option>
            <option value="fr">FR (FranÃ§ais)</option>
            <option value="it">IT (Italiano)</option>
            <option value="de">DE (Deutsch)</option>
          </select>

          <span class="hint">Tip: TraducciÃ³n solo cuando la activas.</span>
        </div>

        <div class="composer">
          <button class="icon-btn" id="btnAttach" title="Adjuntar">ğŸ“</button>
          <button class="icon-btn" id="btnMic" title="MicrÃ³fono (MVP)">ğŸ™ï¸</button>
          <input id="messageInput" class="input" placeholder="Escribe tu mensajeâ€¦" />
          <button class="send" id="btnSend">Enviar</button>
        </div>
      </section>

      <!-- STATUS VIEW -->
      <section class="view hidden" id="viewStatus">
        <h2>Estados (MVP)</h2>
        <p class="muted">
          AquÃ­ queda listo el mÃ³dulo para subir estados hasta <b>5 minutos</b> y elegir duraciÃ³n <b>24 horas</b> o <b>8 dÃ­as</b>.
        </p>

        <div class="card">
          <label class="label">Archivo de estado (video o imagen)</label>
          <input type="file" id="statusFile" accept="image/*,video/*" />

          <div class="row">
            <div class="col">
              <label class="label">DuraciÃ³n del estado</label>
              <select id="statusDuration" class="select">
                <option value="24h">24 horas</option>
                <option value="8d">8 dÃ­as</option>
              </select>
            </div>

            <div class="col">
              <label class="label">LÃ­mite video</label>
              <div class="pill">Hasta 5:00 min (MVP)</div>
            </div>
          </div>

          <button class="primary" id="btnPublishStatus">Publicar estado</button>
          <div class="muted" id="statusResult"></div>
        </div>

        <div class="card">
          <h3>Estados publicados (local)</h3>
          <div id="statusList" class="status-list"></div>
        </div>
      </section>

      <!-- SETTINGS VIEW -->
      <section class="view hidden" id="viewSettings">
        <h2>Ajustes (MVP)</h2>
        <div class="card">
          <p><b>MonetizaciÃ³n (estructura):</b></p>
          <ul>
            <li>Base gratuita como WhatsApp (chat + llamadas bÃ¡sicas en el futuro).</li>
            <li>Servicios Premium: traductor voz/llamadas, IA copiloto, GPS inteligente, herramientas extra.</li>
            <li>Plan Combo econÃ³mico (volumen masivo) + planes por mÃ³dulo.</li>
          </ul>
          <p class="muted">AquÃ­ luego conectamos pagos (Stripe/MercadoPago) cuando tÃº decidas.</p>
        </div>
      </section>

    </main>

    <!-- CAMERA MODAL -->
    <div class="modal hidden" id="cameraModal">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title">CÃ¡mara (MVP)</div>
          <button class="icon-btn" id="btnCloseCamera">âœ–</button>
        </div>

        <video id="video" autoplay playsinline class="video"></video>

        <div class="row">
          <button class="primary" id="btnStartCam">Activar cÃ¡mara</button>
          <button class="secondary" id="btnSnap">Tomar foto</button>
          <button class="secondary" id="btnStopCam">Detener</button>
        </div>

        <canvas id="canvas" class="hidden"></canvas>
        <img id="photo" class="photo hidden" alt="captura" />

        <div class="muted" id="camMsg"></div>
      </div>
    </div>

    <!-- CALLS MODAL (estructura) -->
    <div class="modal hidden" id="callsModal">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title">Videollamada (MVP)</div>
          <button class="icon-btn" id="btnCloseCalls">âœ–</button>
        </div>

        <p class="muted">
          Hoy dejamos la interfaz lista. Para videollamada real tipo WhatsApp/Zoom falta el â€œservidor de seÃ±alizaciÃ³nâ€.
          Si quieres, lo hacemos en fase 2 con un microservicio (Render/Fly) o integraciÃ³n Jitsi.
        </p>

        <div class="card">
          <button class="primary" id="btnPrepareCall">Preparar llamada (cÃ¡mara/mic)</button>
          <div class="muted" id="callMsg"></div>
        </div>
      </div>
    </div>

  </div>

  <script src="/app.js"></script>
</body>
</html>